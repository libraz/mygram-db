# test-diff.sh Configuration File
#
# This file allows you to customize how source files map to test executables.
# Copy this file to .test-diff.conf and customize as needed:
#   cp .test-diff.conf.example .test-diff.conf
#
# Note: .test-diff.conf is gitignored, so your local customizations won't be committed

# Custom mapping function (optional)
# Override the default source-to-test mapping logic
# Usage: custom_map_source_to_test <source_file>
# Should echo the test executable name(s), one per line
#
# Example:
# custom_map_source_to_test() {
#     local source_file="$1"
#
#     # Special case: changes to main.cpp should run integration tests
#     if [[ "$source_file" == "src/main.cpp" ]]; then
#         echo "gtid_dump_test"
#         echo "stress_test"
#         return
#     fi
#
#     # Special case: changes to application.cpp should run server tests
#     if [[ "$source_file" == "src/application.cpp" ]]; then
#         echo "http_server_test"
#         echo "health_endpoint_test"
#         return
#     fi
#
#     # Return empty to use default mapping
# }

# Critical files that trigger all tests (optional)
# Add patterns here that should always run all tests when changed
#
# Example:
# is_custom_critical_file() {
#     local file="$1"
#
#     # Any change to error handling runs all tests
#     if [[ "$file" =~ src/utils/error\.(h|cpp) ]]; then
#         return 0
#     fi
#
#     # Any change to expected.h runs all tests
#     if [[ "$file" =~ src/utils/expected\.h ]]; then
#         return 0
#     fi
#
#     return 1
# }

# Exclude patterns (optional)
# Files matching these patterns will be ignored
#
# Example:
# should_exclude_file() {
#     local file="$1"
#
#     # Ignore documentation changes
#     if [[ "$file" =~ ^docs/ ]] || [[ "$file" =~ \.md$ ]]; then
#         return 0
#     fi
#
#     # Ignore CI configuration
#     if [[ "$file" =~ ^\.github/ ]]; then
#         return 0
#     fi
#
#     return 1
# }
